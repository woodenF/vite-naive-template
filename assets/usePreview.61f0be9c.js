import{r as e,o as t,w as a,h as o,B as l,D as n,E as s,I as i,J as r,X as c,H as u,Y as v,P as d,G as f,S as m,q as p,W as h}from"./vue.201ae94a.js";import{i as w,a as x}from"./index.d85595df.js";const b=["src"],g={class:"absolute bottom-[5%] text-white text-normal font-semibold"},C=o({name:"Preview",props:{onClose:null,afterLeave:null,onShow:null,show:{type:Boolean},data:null,active:null},setup(o){const h=o,{active:C,imgConfig:y,prev:k,next:S,onWheel:j}=function(o){const{onShow:l,data:n,active:s}=o,i=e(s),r=e({scale:1});return t((()=>{w(l)&&l()})),a(i,(()=>{r.value.scale=1})),{active:i,prev:function(){i.value>0&&(i.value-=1)},next:function(){i.value<n.length-1&&(i.value+=1)},onWheel:function(e){if(e.wheelDelta>0){if(r.value.scale>=2)return;r.value.scale+=.1}else{if(+r.value.scale.toFixed(1)<=.1)return;r.value.scale-=.1}},imgConfig:r}}({data:h.data,active:h.active,onShow:h.onShow});return(e,t)=>{const a=x;return l(),n(p,{name:"fade-scale",onAfterLeave:o.afterLeave},{default:s((()=>{var e,n;return[o.show?(l(),i("div",{key:0,class:"bg-black bg-opacity-40 fixed top-0 left-0 right-0 bottom-0 z-[999] flex items-center justify-center",onClick:t[3]||(t[3]=(...e)=>o.onClose&&o.onClose(...e)),onWheel:t[4]||(t[4]=(...e)=>u(j)&&u(j)(...e))},[r("img",{style:c({transform:`scale(${u(y).scale})`}),src:null==(e=o.data)?void 0:e[u(C)],alt:"",onClick:t[0]||(t[0]=v((()=>{}),["stop"]))},null,12,b),r("div",g,d(u(C)+1)+" / "+d(null==(n=o.data)?void 0:n.length),1),r("div",{class:"absolute left-0 top-0 bottom-0 w-[10%] flex items-center justify-center text-large text-white font-semibold",onselectstart:"return false",onClick:t[1]||(t[1]=v(((...e)=>u(k)&&u(k)(...e)),["stop","prevent"]))},[f(a,{name:"prev",size:"36"})]),r("div",{class:"absolute right-0 top-0 bottom-0 w-[10%] flex items-center justify-center text-large text-white font-semibold",onselectstart:"return false",onClick:t[2]||(t[2]=v(((...e)=>u(S)&&u(S)(...e)),["stop"]))},[f(a,{name:"next",size:"36"})])],32)):m("",!0)]})),_:1},8,["onAfterLeave"])}}});let y=null,k=null;function S(){function e(){var e;(null==(e=null==k?void 0:k.component)?void 0:e.props).show=!1}return{open:function(t){y&&k||(y=document.createElement("div"),k=f(C,{onClose:e,afterLeave:()=>{y&&(document.body.removeChild(y),y=null,k=null)},onShow:()=>{var e;(null==(e=null==k?void 0:k.component)?void 0:e.props).show=!0},show:!1,data:t.data,active:t.active||0}),h(k,y),document.body.appendChild(y))},close:e}}export{S as u};
